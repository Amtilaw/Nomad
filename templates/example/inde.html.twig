{% extends 'base.html.twig' %}

{% block title %}Hello HomeController!{% endblock %}

{% block body %}

    <div id="page_content" class="height-700">

        <div id="page_content_inner" class="height-700">
 
            <div class="md-card height-700">
                <div class="uk-grid uk-grid uk-grid-collapse uk-grid-divider uk-flex" data-uk-grid-match>
                    
                    <div class="uk-width-large-1-6 uk-width-medium-1-3 js_collapsible_column height-700">
                        
                        <div class="md-card-toolbar {{pageColor}}">
                            <div class="md-card-toolbar-actions uk-hidden-small">
                                {# <i class="md-icon material-icons js_hidden">&#xE5D5;</i> #}
                                <a href="#" data-column-toggle>
                                    <i class="md-icon material-icons" title="Collapse">format_indent_decrease</i>
                                    <i class="md-icon material-icons" style="display: none" title="Expand">format_indent_increase</i>
                                </a>
                            </div>
                            <h1 class="md-card-toolbar-heading-text js_hidden uk-text-overflow pageTitle">
                                <i class="material-icons">{{pageIcon}}</i></span>
                                <span>{{pageTitle}}</span>
                            </h1>
                        </div>

                        {# menu contextuel #}
                        {% include rootTemplate ~ '/component/contextual_menu.html.twig' %}
                        
                    </div>
                    
                    <div class="uk-flex-item-1">
                        
                        {# nav bar contextuel #}
                        {% include rootTemplate ~ '/component/partials/' ~ rootPage ~  '/contextual_secondary_nav_' ~ rootPage ~ '.html.twig' %}
                        
                        <div class="md-card-content mostly-customized-scrollbar mainScroll">
                            
                            {# !!!!   ICI ESPACE DE TRAVAIL !!!! #}

                            INDEX
                            
                            
                        </div>

                    </div>
                    
                    <div class="uk-width-large-1-5 uk-width-medium-1-3 js_collapsible_column collapsed">
                        
                        <div class="md-card-toolbar md-bg-grey-100">
                            <div class="md-card-toolbar-actions uk-hidden-small">
                                <a href="#" data-column-toggle>
                                    <i class="md-icon material-icons" title="Collapse">format_indent_increase</i>
                                    <i class="md-icon material-icons" style="display: none"
                                        title="Expand">format_indent_decrease</i>
                                </a>
                            </div>
                            <h3 class="md-card-toolbar-heading-text js_hidden">
                                Filtres INDEX
                            </h3>
                        </div>
                        
                        {# Filters #}
                        {% include rootTemplate ~ '/component/partials/' ~ rootPage ~ '/contextual_filters_' ~ rootPage ~ '.html.twig' %}
                        
                    </div>
                    
                </div>
            </div>

        </div>

    </div>
    
{% endblock %}

{# EXEMPLE RENDER VIEW #}
{% block baseJavascripts %}

<script>

$(document).ready(function () {
    
    // exemple de retour avec renderView
    $('#right_panel_edit_something_btn').on('click', function (e){

        e.preventDefault();
        
        var value = 'value';
        const url = "{{ path('production_exempleRenderView') }}";

        $.ajax({
            type: "post",
            url: url,
            data: {
                'value': value
            }
        }).done(function (data) {

            $('#main_right_panel_renderView_contents').empty();
            $('#main_right_panel_renderView_contents').append(data.content);

            $('#main_right_panel').modal('show');

        }).fail(function () {});

    });

    // exempleDeux de retour avec renderView
    $('#right_panel_add_something_btn').on('click', function (e){

        e.preventDefault();
        
        var value = 'value';
        const url = "{{ path('production_exempleRenderViewDeux') }}";

        $.ajax({
            type: "post",
            url: url,
            data: {
                'value': value
            }
        }).done(function (data) {

            $('#main_right_panel_renderView_contents').empty();
            $('#main_right_panel_renderView_contents').append(data.content);

            $('#main_right_panel').modal('show');

        }).fail(function () {});

    });
    

});

</script>

{% endblock %}
